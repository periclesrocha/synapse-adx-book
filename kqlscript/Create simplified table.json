{
	"name": "Create simplified table",
	"properties": {
		"folder": {
			"name": "Chapter 5"
		},
		"content": {
			"query": ".create table TestTable (TimeStamp: datetime, Value: string, Source:string)\n.create table TestTable ingestion json mapping 'TestMapping' '[{\"column\":\"TimeStamp\",\"path\":\"$.TimeStamp\"},{\"column\":\"Value\",\"path\":\"$.Value\"},{\"column\":\"Source\",\"path\":\"$.Source\"}]'\n\n.alter-merge cluster policy managed_identity \"[ { 'ObjectId' : '6585e448-9ec8-42bb-b9ea-472964486f4e', 'AllowedUsages' : 'NativeIngestion' }]\"\n.alter-merge database ['drone-telemetry'] policy managed_identity \"[ { 'ObjectId' : '6585e448-9ec8-42bb-b9ea-472964486f4e', 'AllowedUsages' : 'NativeIngestion' }]\"\n\n\n\n.create table TestTable (\n    DeviceData: string, \n    LocalDateTime: string, \n    DeviceState: string, \n    CoreTemp: long, \n    CoreStatus: string, \n    Compass: long, \n    Altitude: long, \n    Speed: long, \n    PayloadWeight: long, \n    EventData: string\n) \n\n.create table TestTable ingestion csv mapping 'TestMap'\n'['\n       '{\"Column\": \"DeviceData\", \"Properties\": {\"Ordinal\": \"0\"}},'\n        '{\"Column\": \"LocalDateTime\", \"Properties\": {\"Ordinal\": \"1\"}},'\n        '{\"Column\": \"DeviceState\", \"Properties\": {\"Ordinal\": \"2\"}},'\n        '{\"Column\": \"CoreTemp\", \"Properties\": {\"Ordinal\": \"3\"}},'\n        '{\"Column\": \"CoreStatus\", \"Properties\": {\"Ordinal\": \"4\"}},'\n        '{\"Column\": \"Compass\", \"Properties\": {\"Ordinal\": \"5\"}},'\n        '{\"Column\": \"Altitude\", \"Properties\": {\"Ordinal\": \"6\"}},'\n        '{\"Column\": \"Speed\", \"Properties\": {\"Ordinal\": \"7\"}},'\n        '{\"Column\": \"PayloadWeight\", \"Properties\": {\"Ordinal\": \"8\"}},'\n        '{\"Column\": \"EventData\", \"Properties\": {\"Ordinal\": \"9\"}},'\n']'\n\n.alter database ['drone-telemetry'] policy streamingingestion enable\n'{\"IsEnabled\": true, \"HintAllocatedRate\": 2.1}'",
			"metadata": {
				"language": "kql"
			},
			"currentConnection": {
				"poolName": "droneanalyticsadx",
				"databaseName": "drone-telemetry"
			}
		},
		"type": "KqlQuery"
	}
}