{
	"name": "Implementing workload groups",
	"properties": {
		"folder": {
			"name": "Chapter 10"
		},
		"content": {
			"query": "// 1 - Creating a new workload group\n\n.create-or-alter workload_group ['Engineering Department WG']  ```\n{\n  \"RequestLimitsPolicy\": {\n    \"MaxResultRecords\": {\n        \"IsRelaxable\": false,\n        \"Value\": 1048576\n    },\n    \"MaxResultBytes\": {\n        \"IsRelaxable\": true,\n        \"Value\": 64000000\n    },\n    \"MaxExecutiontime\": {\n        \"IsRelaxable\": false,\n        \"Value\": \"00:02:30\"\n    }\n  }\n}```\n\n// 2 - Adding a request rate limit policy\n\n.alter-merge workload_group ['Engineering Department WG']  ```\n{\n  \"RequestRateLimitPolicies\": [\n  {\n      \"IsEnabled\": true,\n      \"Scope\": \"WorkloadGroup\",\n      \"LimitKind\": \"ConcurrentRequests\",\n      \"Properties\": {\n        \"MaxConcurrentRequests\": 50\n      }\n    },\n    {\n      \"IsEnabled\": true,\n      \"Scope\": \"Principal\",\n      \"LimitKind\": \"ConcurrentRequests\",\n      \"Properties\": {\n        \"MaxConcurrentRequests\": 10\n      }\n    }\n  ]\n} ```\n\n// 3 - Visualizing workload groups \n\n.show workload_groups\n\n",
			"metadata": {
				"language": "kql"
			},
			"currentConnection": {
				"poolName": "droneanalyticsadx",
				"databaseName": "drone-telemetry"
			}
		},
		"type": "KqlQuery"
	}
}